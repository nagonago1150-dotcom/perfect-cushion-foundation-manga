<!doctype html>
<html lang="ja">
  
<!-- Mirrored from manga-jivl.vercel.app/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Sep 2025 06:02:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>パーフェクトワン グロウ＆カバー クッションファンデーション</title>
    <meta name="description" content="厚塗り感なく、シミ・毛穴・色ムラを自然にカバー。65種の保湿成分配合で、メイク中も美容液級のうるおい。初回限定2,640円。">

    <!-- OGP -->
    <meta property="og:title" content="パーフェクトワン グロウ＆カバー クッションファンデーション">
    <meta property="og:description" content="厚塗り感なく、シミ・毛穴を自然にカバー。65種の保湿成分で美容液級のうるおい。">
    <meta property="og:type" content="website">
    
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'GA_MEASUREMENT_ID');
    </script>
    
    <script type="module" crossorigin src="assets/index-U9MFb4ym.js"></script>
    <link rel="stylesheet" crossorigin href="assets/index-C6Zq50ZD.css">
    <style>
      /* Luxury Brown Color Palette */
      :root {
        --primary-gradient: linear-gradient(135deg, #8B4513, #A0522D, #CD853F);
        --secondary-gradient: linear-gradient(135deg, #F5E6D3, #E8D5C4, #DEB887);
        --accent-gradient: linear-gradient(135deg, #654321, #8B4513, #A0522D);
        --luxury-brown: #654321;
        --warm-brown: #8B4513;
        --soft-beige: #F5E6D3;
        --gold-accent: #DAA520;
      }

      /* ===== Smooth Scroll ===== */
      html {
        scroll-behavior: smooth;
      }

      /* Scroll to Top Button */
      #scroll-to-top {
        position: fixed;
        bottom: 80px;
        right: 20px;
        width: 50px;
        height: 50px;
        background: var(--accent-gradient);
        color: white;
        border: none;
        border-radius: 50%;
        font-size: 24px;
        cursor: pointer;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
        z-index: 1000;
        box-shadow: 0 4px 15px rgba(139, 69, 19, 0.3);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      #scroll-to-top.visible {
        opacity: 1;
        visibility: visible;
      }

      #scroll-to-top:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 20px rgba(139, 69, 19, 0.4);
      }

      @media (max-width: 768px) {
        #scroll-to-top {
          bottom: 70px;
          right: 15px;
          width: 45px;
          height: 45px;
          font-size: 20px;
        }
      }

      /* Slightly Darker Elegant Background */
      body {
        background: linear-gradient(-45deg, #F8F6F3, #F5F2EE, #F0EDE8, #EAE5DD);
        background-size: 400% 400%;
        animation: gradientShift 25s ease infinite;
      }

      @keyframes gradientShift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }

      /* Elegant Header with Warm Tone */
      .header {
        background: rgba(248, 246, 243, 0.98);
        backdrop-filter: blur(15px);
        box-shadow: 0 2px 20px rgba(139, 69, 19, 0.1);
        border-bottom: 1px solid rgba(139, 69, 19, 0.1);
      }

      .logo {
        background: var(--accent-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: 0 0 20px var(--luxury-brown);
        animation: logoGlow 4s ease-in-out infinite alternate;
      }

      @keyframes logoGlow {
        from { filter: drop-shadow(0 0 3px var(--warm-brown)); }
        to { filter: drop-shadow(0 0 8px var(--gold-accent)); }
      }

      /* Floating Animation for Sections */
      .comic-scene, .testimonial-card, .product-step {
        animation: floatUp 0.8s ease-out forwards;
        opacity: 0;
        transform: translateY(30px);
      }

      .comic-scene:nth-child(1) { animation-delay: 0.1s; }
      .comic-scene:nth-child(2) { animation-delay: 0.2s; }
      .comic-scene:nth-child(3) { animation-delay: 0.3s; }
      .comic-scene:nth-child(4) { animation-delay: 0.4s; }
      .comic-scene:nth-child(5) { animation-delay: 0.5s; }

      @keyframes floatUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* ===== Luxury Narration Text Styling with Dynamic Animations ===== */
      .narration {
        font-family: 'Noto Serif JP', 'Yu Mincho', 'YuMincho', 'Hiragino Mincho ProN', 'Hiragino Mincho Pro', serif;
        font-size: 18px;
        font-weight: 600;
        line-height: 1.9;
        letter-spacing: 0.08em;
        color: var(--luxury-brown);
        text-shadow: 0 2px 8px rgba(139, 69, 19, 0.15);
        background: linear-gradient(135deg, rgba(245, 230, 211, 0.8), rgba(248, 246, 243, 0.9));
        padding: 20px 32px;
        border-radius: 12px;
        border-left: 4px solid var(--gold-accent);
        box-shadow: 0 4px 20px rgba(139, 69, 19, 0.1);
        position: relative;
        animation: luxuryTextAppear 1s ease-out forwards,
                   gentleGlow 3s ease-in-out infinite,
                   subtleFloat 4s ease-in-out infinite;
        opacity: 0;
        overflow: hidden;
      }

      /* Stagger animation for each narration */
      .comic-scene:nth-child(1) .narration { animation-delay: 0.3s, 0.3s, 0.3s; }
      .comic-scene:nth-child(2) .narration { animation-delay: 0.4s, 0.4s, 0.8s; }
      .comic-scene:nth-child(3) .narration { animation-delay: 0.5s, 0.5s, 1.3s; }
      .comic-scene:nth-child(4) .narration { animation-delay: 0.6s, 0.6s, 1.8s; }
      .comic-scene:nth-child(5) .narration { animation-delay: 0.7s, 0.7s, 2.3s; }

      @keyframes luxuryTextAppear {
        0% {
          opacity: 0;
          transform: translateY(20px) scale(0.95);
        }
        60% {
          opacity: 1;
          transform: translateY(-5px) scale(1.02);
        }
        100% {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      @keyframes gentleGlow {
        0%, 100% {
          box-shadow: 0 4px 20px rgba(139, 69, 19, 0.1);
        }
        50% {
          box-shadow: 0 6px 30px rgba(218, 165, 32, 0.25), 0 0 15px rgba(218, 165, 32, 0.1);
        }
      }

      /* Subtle floating animation */
      @keyframes subtleFloat {
        0%, 100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-3px);
        }
      }

      /* Animated gradient background overlay */
      .narration::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg,
          transparent,
          rgba(218, 165, 32, 0.15),
          transparent
        );
        animation: shimmerSlide 3s ease-in-out infinite;
        z-index: 0;
      }

      @keyframes shimmerSlide {
        0% {
          left: -100%;
        }
        50%, 100% {
          left: 100%;
        }
      }

      /* Decorative pulsing accent dots */
      .narration::after {
        content: '';
        position: absolute;
        top: -8px;
        right: -8px;
        width: 16px;
        height: 16px;
        background: radial-gradient(circle, var(--gold-accent), rgba(218, 165, 32, 0.3));
        border-radius: 50%;
        animation: pulseGlow 2s ease-in-out infinite;
        z-index: 2;
      }

      @keyframes pulseGlow {
        0%, 100% {
          opacity: 0.6;
          transform: scale(1);
          box-shadow: 0 0 5px rgba(218, 165, 32, 0.4);
        }
        50% {
          opacity: 1;
          transform: scale(1.3);
          box-shadow: 0 0 15px rgba(218, 165, 32, 0.8);
        }
      }

      /* Text content needs higher z-index */
      .narration > * {
        position: relative;
        z-index: 1;
      }

      /* Gradient text color animation */
      @keyframes colorShift {
        0%, 100% {
          color: var(--luxury-brown);
        }
        50% {
          color: var(--warm-brown);
        }
      }

      /* Border animation */
      @keyframes borderPulse {
        0%, 100% {
          border-left-color: var(--gold-accent);
        }
        50% {
          border-left-color: var(--luxury-brown);
        }
      }

      .narration {
        animation: luxuryTextAppear 1s ease-out forwards,
                   gentleGlow 3s ease-in-out infinite,
                   subtleFloat 4s ease-in-out infinite,
                   colorShift 6s ease-in-out infinite,
                   borderPulse 3s ease-in-out infinite;
      }

      /* Hover effect for narration - enhanced */
      .narration:hover {
        transform: translateY(-5px) scale(1.02);
        box-shadow: 0 10px 40px rgba(139, 69, 19, 0.25);
        transition: all 0.4s ease;
      }

      .narration:hover::before {
        animation-duration: 1.5s;
      }

      .narration:hover::after {
        animation-duration: 1s;
      }

      /* Mobile responsive for narration */
      @media (max-width: 768px) {
        .narration {
          font-size: 16px;
          padding: 16px 24px;
          letter-spacing: 0.05em;
        }

        .narration::after {
          width: 12px;
          height: 12px;
        }
      }

      /* Luxury CTA Buttons with Enhanced Breathing Animation */
      .cta-button {
        background: var(--accent-gradient);
        position: relative;
        overflow: hidden;
        animation: breathe 2.5s ease-in-out infinite, pulse 3s infinite;
        box-shadow: 0 4px 20px rgba(139, 69, 19, 0.3);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        text-align: center;
      }

      .cta-button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
        transition: left 0.5s;
      }

      .cta-button:hover::before {
        left: 100%;
      }

      /* Enhanced Breathing Effect */
      @keyframes breathe {
        0%, 100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.03);
        }
      }

      @keyframes pulse {
        0% { box-shadow: 0 4px 20px rgba(139, 69, 19, 0.3); }
        50% { box-shadow: 0 4px 30px rgba(218, 165, 32, 0.5), 0 0 20px rgba(218, 165, 32, 0.3); }
        100% { box-shadow: 0 4px 20px rgba(139, 69, 19, 0.3); }
      }

      /* Click Ripple Effect */
      .cta-button::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.5);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s, opacity 0.6s;
        opacity: 0;
      }

      .cta-button:active::after {
        width: 300px;
        height: 300px;
        opacity: 0;
      }

      .cta-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 25px rgba(139, 69, 19, 0.4);
      }

      .cta-button:active {
        transform: translateY(0);
      }

      /* Comic Viewer Enhancement */
      .comic-viewer {
        background: rgba(248, 246, 243, 0.9);
        position: relative;
        border-top: 1px solid rgba(139, 69, 19, 0.1);
        border-bottom: 1px solid rgba(139, 69, 19, 0.1);
      }

      .comic-scene img {
        transition: transform 0.3s ease, filter 0.3s ease;
        filter: drop-shadow(0 8px 25px rgba(139, 69, 19, 0.2));
      }

      .comic-scene img:hover {
        transform: scale(1.03);
        filter: drop-shadow(0 12px 35px rgba(218, 165, 32, 0.3));
      }

      /* Section Backgrounds - Balanced Tone & Accent */
      .products-section {
        background: rgba(248, 246, 243, 0.95);
        position: relative;
        border: 1px solid rgba(139, 69, 19, 0.05);
      }

      .science-section {
        background: linear-gradient(135deg, rgba(240, 237, 232, 0.4), rgba(248, 246, 243, 0.9));
        border-top: 1px solid rgba(139, 69, 19, 0.1);
        border-bottom: 1px solid rgba(139, 69, 19, 0.1);
      }

      .testimonials-section {
        background: rgba(245, 242, 238, 0.95);
      }

      /* Testimonial Cards Enhancement */
      .testimonial-card {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(139, 69, 19, 0.2);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .testimonial-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(139, 69, 19, 0.15);
      }

      /* Product Steps Animation */
      .product-step {
        transition: transform 0.3s ease;
      }

      .product-step:hover {
        transform: scale(1.02);
      }

      .step-number {
        background: var(--accent-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        animation: shimmer 2s linear infinite;
      }

      @keyframes shimmer {
        0% { background-position: -200px 0; }
        100% { background-position: 200px 0; }
      }

      /* Scroll Indicator Enhancement */
      .scroll-indicator {
        animation: bounce 2s infinite, colorShift 3s ease-in-out infinite alternate;
      }

      @keyframes colorShift {
        from { color: var(--glow-pink); }
        to { color: var(--glow-purple); }
      }

      /* Science Section Enhancement */
      .science-column, .natural-column {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(15px);
        border: 1px solid rgba(255, 182, 193, 0.2);
        transition: transform 0.3s ease;
      }

      .science-column:hover, .natural-column:hover {
        transform: translateY(-10px);
      }

      /* Transparent Bubble Animations */
      .bubble-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
        overflow: hidden;
      }

      .bubble {
        position: absolute;
        border-radius: 50%;
        background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.4), rgba(139, 69, 19, 0.1));
        animation: floatBubble linear infinite;
        opacity: 0.6;
      }

      .bubble:nth-child(1) { width: 40px; height: 40px; left: 10%; animation-duration: 8s; animation-delay: 0s; }
      .bubble:nth-child(2) { width: 20px; height: 20px; left: 20%; animation-duration: 6s; animation-delay: 1s; }
      .bubble:nth-child(3) { width: 60px; height: 60px; left: 35%; animation-duration: 10s; animation-delay: 2s; }
      .bubble:nth-child(4) { width: 30px; height: 30px; left: 50%; animation-duration: 7s; animation-delay: 3s; }
      .bubble:nth-child(5) { width: 50px; height: 50px; left: 70%; animation-duration: 9s; animation-delay: 4s; }
      .bubble:nth-child(6) { width: 25px; height: 25px; left: 85%; animation-duration: 5s; animation-delay: 5s; }

      @keyframes floatBubble {
        0% {
          bottom: -100px;
          transform: translateX(0) rotate(0deg);
          opacity: 0;
        }
        10% { opacity: 0.6; }
        90% { opacity: 0.6; }
        100% {
          bottom: 100vh;
          transform: translateX(-50px) rotate(360deg);
          opacity: 0;
        }
      }

      /* Water Ripple Effect */
      .ripple-effect {
        position: absolute;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(218, 165, 32, 0.1) 0%, transparent 70%);
        animation: ripple 4s ease-out infinite;
        pointer-events: none;
      }

      @keyframes ripple {
        0% {
          width: 0;
          height: 0;
          opacity: 1;
        }
        100% {
          width: 300px;
          height: 300px;
          opacity: 0;
        }
      }

      /* Enhanced Footer with Better Visibility */
      .footer {
        background: linear-gradient(135deg, rgba(248, 246, 243, 0.98), rgba(245, 242, 238, 0.95));
        border-top: 2px solid rgba(139, 69, 19, 0.2);
        position: relative;
        padding: 50px 0 30px;
        box-shadow: 0 -2px 10px rgba(139, 69, 19, 0.05);
      }

      .footer-impact {
        text-align: center;
        margin-bottom: 40px;
        position: relative;
        z-index: 2;
      }

      .footer-title {
        font-size: 28px;
        font-weight: 600;
        color: var(--luxury-brown);
        margin-bottom: 16px;
      }

      .footer-message {
        font-size: 16px;
        color: rgba(101, 67, 33, 0.9);
        margin-bottom: 24px;
        line-height: 1.6;
      }

      .footer-button {
        background: var(--accent-gradient);
        font-size: 18px;
        padding: 16px 48px;
        box-shadow: 0 4px 15px rgba(139, 69, 19, 0.3);
        color: #FFFFFF;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .footer-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(139, 69, 19, 0.4);
      }

      .footer-info {
        text-align: center;
        border-top: 1px solid rgba(255, 255, 255, 0.3);
        padding-top: 40px;
        position: relative;
        z-index: 2;
      }

      .footer-brand {
        font-size: 22px;
        font-weight: 600;
        color: var(--luxury-brown);
        margin-bottom: 12px;
      }

      .footer-copyright {
        color: rgba(101, 67, 33, 0.7);
        margin-bottom: 20px;
      }

      .footer-nav {
        display: flex;
        justify-content: center;
        gap: 32px;
        flex-wrap: wrap;
      }

      .footer-nav a {
        color: rgba(101, 67, 33, 0.8);
        transition: color 0.3s ease;
      }

      .footer-nav a:hover {
        color: var(--luxury-brown);
      }

      /* Products Detail Width Constraint */
      .products-detail {
        max-width: 800px;
      }

      /* Feature Sections Standardization */
      .product-step {
        min-height: 300px;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
      }

      .product-content {
        flex: 1;
        display: flex;
        align-items: center;
        gap: 32px;
        min-height: 250px;
      }

      .product-content img {
        width: 280px;
        height: auto;
        max-height: 280px;
        object-fit: contain;
        border-radius: 12px;
        flex-shrink: 0;
        box-shadow: 0 4px 20px rgba(139, 69, 19, 0.15);
      }

      /* Specific adjustments for feature images */
      .product-step:nth-child(1) .product-content img {
        object-fit: contain;
        object-position: center;
      }

      .product-step:nth-child(3) .product-content img {
        object-fit: cover;
        object-position: center;
      }

      .product-step:nth-child(2) .product-content img {
        object-fit: cover;
        object-position: center bottom;
      }

      .product-info {
        flex: 1;
        padding: 20px 0 20px 80px;
      }

      .product-info h3 {
        font-size: 24px;
        margin-bottom: 12px;
        line-height: 1.3;
      }

      .product-concept {
        font-size: 16px;
        margin-bottom: 20px;
        font-weight: 500;
      }

      .product-features {
        margin-bottom: 16px;
      }

      .product-features li {
        font-size: 14px;
        line-height: 1.6;
        margin-bottom: 8px;
      }

      .product-note {
        margin-top: 16px;
        font-style: italic;
      }

      .step-number {
        margin-bottom: 20px;
        font-size: 32px;
        font-weight: 800;
        color: var(--luxury-brown);
        text-shadow: 3px 3px 6px rgba(0,0,0,0.2);
        letter-spacing: 0.05em;
        background: linear-gradient(135deg, var(--luxury-brown) 0%, #8b6f47 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        position: relative;
        display: inline-block;
        padding: 5px 15px;
        border-left: 4px solid var(--luxury-brown);
      }

      /* Mobile Responsive for Features */
      @media (max-width: 768px) {
        .product-content {
          flex-direction: column;
          text-align: center;
          min-height: auto;
          gap: 20px;
        }

        .product-content img {
          width: 240px;
          height: auto;
          max-height: 240px;
          margin: 0 auto;
        }

        .product-step {
          min-height: auto;
        }

        .product-info {
          padding: 20px 0;
        }

        .product-info h3 {
          font-size: 20px;
        }
      }

      /* Mobile Responsive Enhancements */
      @media (max-width: 768px) {
        /* 全体のモバイル調整 */
        body {
          overflow-x: hidden;
          width: 100%;
          margin: 0;
          padding: 0;
        }

        * {
          box-sizing: border-box;
        }

        .logo {
          font-size: 18px;
          line-height: 1.4;
          text-align: center;
        }
        
        .comic-scene img {
          border-radius: 12px;
        }
        
        .cta-button {
          width: 90%;
          max-width: 300px;
          font-size: 12px;
          line-height: 1.4;
          padding: 12px 16px;
          text-align: center;
          white-space: normal;
          word-wrap: break-word;
        }
        .cta-button.large {
          font-size: 10px;
        }

        /* ヘッダーの調整 */
        .header {
          padding: 16px 0;
          width: 100%;
          margin: 0;
        }

      /* PRラベル */
      .pr-label {
        position: absolute;
        top: 20px;
        right: 20px;
        background: rgba(248, 246, 243, 0.7);
        color: var(--luxury-brown);
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 500;
        letter-spacing: 0.3px;
        border: 1px solid rgba(139, 69, 19, 0.2);
        box-shadow: 0 2px 8px rgba(139, 69, 19, 0.05);
        z-index: 100;
        backdrop-filter: blur(10px);
        opacity: 0.6;
      }


        /* コミックセクションのモバイル最適化 */
        .comic-viewer {
          padding: 24px 0;
        }

        .comic-scene {
          margin-bottom: 32px;
        }

        .narration {
          font-size: 16px;
          padding: 0 16px;
          line-height: 1.8;
          margin-bottom: 8px;
        }

        /* CTAセクションの調整 */
        .cta-section {
          padding: 40px 0;
        }

        .cta-section h2 {
          font-size: 22px;
          line-height: 1.5;
          margin-bottom: 20px;
          padding: 0 16px;
          text-align: center;
        }

        .product-image {
          max-width: 300px;
          margin-bottom: 24px;
        }

        .price {
          margin-bottom: 20px;
        }

        .special {
          font-size: 28px;
        }

        .benefits {
          gap: 12px;
          margin-top: 20px;
          padding: 0 16px;
        }

        .benefits li {
          font-size: 12px;
          padding: 6px 12px;
        }

        /* 商品説明セクション */
        .products-section {
          padding: 50px 0;
        }

        .section-title {
          font-size: 20px;
          margin-bottom: 32px;
          padding: 0 16px;
          line-height: 1.5;
          text-align: center;
        }

        .products-detail {
          gap: 32px;
        }

        .product-content {
          padding: 24px 16px;
          gap: 20px;
        }

        .product-info {
          padding: 16px 0;
          text-align: left;
        }

        .product-info ul {
          text-align: left;
        }

        .product-info h3 {
          font-size: 20px;
          margin-bottom: 8px;
        }

        .product-concept {
          font-size: 14px;
          margin-bottom: 16px;
        }

        .product-features {
          margin-bottom: 20px;
        }

        .product-features li {
          font-size: 13px;
          line-height: 1.5;
          padding-left: 16px;
          margin-bottom: 6px;
          position: relative;
        }

        .product-features li:before {
          content: "・";
          position: absolute;
          left: 0;
          top: 0;
          color: var(--primary-color);
          font-weight: 500;
        }

        /* サイエンスセクション */
        .science-section {
          padding: 50px 0;
        }

        .science-column, .natural-column {
          padding: 24px 20px;
        }

        .column-header h3 {
          font-size: 24px;
        }

        .feature-items h4 {
          font-size: 15px;
        }

        .feature-items p {
          font-size: 13px;
        }

        /* お客様の声セクション */
        .testimonials-section {
          padding: 50px 0;
        }

        .testimonial-card {
          padding: 24px 20px;
        }

        .before p, .after p {
          font-size: 13px;
        }

        .user-info .comment {
          font-size: 15px;
        }

        /* フッター */
        .footer {
          padding: 32px 0;
        }

        .footer-title {
          font-size: 22px;
          margin-bottom: 12px;
          line-height: 1.5;
          text-align: center;
        }

        .footer-message {
          font-size: 16px;
          margin-bottom: 24px;
          padding: 0 16px;
        }

        .footer-button {
          font-size: 18px;
          padding: 16px 40px;
        }

        .footer nav {
          gap: 16px;
          margin-top: 16px;
        }

        /* ページ全体の余白調整 */
        .container {
          padding: 0 16px !important;
          margin: 0 auto !important;
          width: 100% !important;
          max-width: 100% !important;
          box-sizing: border-box !important;
        }
        
        /* 全セクションの幅とマージン調整 */
        section {
          width: 100% !important;
          margin: 0 !important;
          padding-left: 0 !important;
          padding-right: 0 !important;
          box-sizing: border-box !important;
        }

        /* CTA boxのモバイル調整 */
        .cta-box {
          padding: 32px 20px;
        }

        .guarantees {
          gap: 16px;
        }

        .guarantee-item {
          font-size: 12px;
        }
      }

      /* クリック可能要素のホバー効果 */
      .comic-scene a img:hover,
      .product-image:hover,
      .product-step img:hover {
        transform: scale(1.05);
        filter: brightness(1.1);
        cursor: pointer;
      }

      .logo:hover,
      .tagline:hover,
      .section-title:hover,
      .review-title:hover,
      .product-info h3:hover {
        opacity: 0.8;
        cursor: pointer;
        transition: opacity 0.3s ease;
      }

      .price:hover {
        transform: scale(1.02);
        cursor: pointer;
        transition: transform 0.3s ease;
      }

      /* さらに小さなスマホ向け（375px以下） */
      @media (max-width: 375px) {
        .container {
          padding: 0 12px;
        }

        .logo {
          font-size: 22px;
        }

        .cta-section h2 {
          font-size: 20px;
        }

        .special {
          font-size: 24px;
        }

        .section-title {
          font-size: 20px;
        }

        .product-content {
          padding: 20px 12px;
        }

        .product-features li {
          font-size: 12px;
          padding-left: 14px;
          margin-bottom: 4px;
        }

        .testimonial-card {
          padding: 20px 16px;
        }

        .footer-button {
          font-size: 16px;
          padding: 14px 32px;
        }
      }

      /* Loading Animation */
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      .container > * {
        animation: fadeIn 1s ease-out;
      }

      /* ===== Scroll Trigger Animations ===== */

      /* Initial hidden state for scroll animations */
      .scroll-fade-up {
        opacity: 0;
        transform: translateY(50px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
      }

      .scroll-fade-up.is-visible {
        opacity: 1;
        transform: translateY(0);
      }

      .scroll-slide-left {
        opacity: 0;
        transform: translateX(-80px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
      }

      .scroll-slide-left.is-visible {
        opacity: 1;
        transform: translateX(0);
      }

      .scroll-slide-right {
        opacity: 0;
        transform: translateX(80px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
      }

      .scroll-slide-right.is-visible {
        opacity: 1;
        transform: translateX(0);
      }

      .scroll-zoom-in {
        opacity: 0;
        transform: scale(0.9);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
      }

      .scroll-zoom-in.is-visible {
        opacity: 1;
        transform: scale(1);
      }

      /* Stagger animation delays for multiple elements */
      .scroll-stagger-1 { transition-delay: 0.1s; }
      .scroll-stagger-2 { transition-delay: 0.2s; }
      .scroll-stagger-3 { transition-delay: 0.3s; }
      .scroll-stagger-4 { transition-delay: 0.4s; }
      .scroll-stagger-5 { transition-delay: 0.5s; }

      /* Section reveal animation */
      .section-reveal {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 1s ease-out, transform 1s ease-out;
      }

      .section-reveal.is-visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* ===== 3D Tilt Effect for Product Images ===== */
      .tilt-3d {
        transform-style: preserve-3d;
        transition: transform 0.3s ease-out;
        will-change: transform;
      }

      .product-image.tilt-3d {
        perspective: 1000px;
      }

      .product-content img.tilt-3d {
        perspective: 1000px;
      }

      /* Add depth to tilted elements */
      .tilt-3d:hover {
        transform: translateZ(20px);
      }

      /* ===== Card Flip Effect ===== */
      .flip-card {
        perspective: 1000px;
        cursor: pointer;
        position: relative;
      }

      .flip-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        transition: transform 0.8s;
        transform-style: preserve-3d;
      }

      .flip-card.flipped .flip-card-inner {
        transform: rotateY(180deg);
      }

      .flip-card-front,
      .flip-card-back {
        width: 100%;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
      }

      .flip-card-back {
        position: absolute;
        top: 0;
        left: 0;
        transform: rotateY(180deg);
        background: rgba(255, 255, 255, 0.98);
        padding: 32px;
        border-radius: 12px;
        box-shadow: 0 8px 30px rgba(139, 69, 19, 0.15);
      }

      .flip-card-back h4 {
        color: var(--luxury-brown);
        margin-bottom: 16px;
        font-size: 18px;
      }

      .flip-card-back p {
        color: rgba(101, 67, 33, 0.9);
        line-height: 1.8;
        font-size: 14px;
      }

      .flip-card-back .back-icon {
        font-size: 32px;
        margin-bottom: 16px;
        display: block;
      }

      /* Flip indicator */
      .flip-indicator {
        position: absolute;
        bottom: 16px;
        right: 16px;
        background: rgba(139, 69, 19, 0.1);
        padding: 8px 12px;
        border-radius: 20px;
        font-size: 12px;
        color: var(--luxury-brown);
        opacity: 0.7;
        transition: opacity 0.3s ease;
      }

      .flip-card:hover .flip-indicator {
        opacity: 1;
      }

      /* ===== Before/After Interactive Slider ===== */
      .before-after-slider {
        position: relative;
        width: 100%;
        height: 120px;
        border-radius: 12px;
        overflow: hidden;
        cursor: ew-resize;
        user-select: none;
      }

      .before-after-content {
        position: absolute;
        top: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        padding: 20px;
        transition: opacity 0.3s ease;
      }

      .before-content {
        left: 0;
        background: linear-gradient(135deg, rgba(255, 182, 193, 0.2), rgba(255, 182, 193, 0.1));
        border-right: 2px solid rgba(139, 69, 19, 0.3);
      }

      .after-content {
        right: 0;
        background: linear-gradient(135deg, rgba(218, 165, 32, 0.2), rgba(218, 165, 32, 0.1));
        border-left: 2px solid rgba(139, 69, 19, 0.3);
      }

      .slider-handle {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 40px;
        height: 40px;
        background: white;
        border: 3px solid var(--luxury-brown);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10;
        cursor: ew-resize;
        box-shadow: 0 4px 12px rgba(139, 69, 19, 0.3);
        transition: transform 0.2s ease;
      }

      .slider-handle:hover {
        transform: translate(-50%, -50%) scale(1.1);
      }

      .slider-handle::before {
        content: '⟷';
        font-size: 18px;
        color: var(--luxury-brown);
      }

      .slider-divider {
        position: absolute;
        top: 0;
        left: 50%;
        width: 2px;
        height: 100%;
        background: var(--luxury-brown);
        z-index: 9;
      }

      /* New Review Format Styles */
      .review-content {
        margin-bottom: 24px;
      }

      .review-title {
        font-size: 16px;
        font-weight: 600;
        color: var(--primary-color);
        margin-bottom: 12px;
        line-height: 1.4;
      }

      .review-text {
        font-size: 14px;
        color: var(--text-primary);
        line-height: 1.6;
        margin: 0;
      }

      /* Testimonial Grid Layout */
      .testimonials-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        grid-template-rows: auto;
        gap: 40px;
        max-width: 1200px;
        margin: 0 auto 32px;
      }

      .testimonial-left {
        grid-column: 1;
        grid-row: 1;
      }

      .testimonial-right {
        grid-column: 2;
        grid-row: 1;
      }

      @media (max-width: 768px) {
        .testimonials-grid {
          grid-template-columns: 1fr;
          grid-template-rows: auto auto;
          gap: 32px;
        }

        .testimonial-left,
        .testimonial-right {
          grid-column: 1;
        }

        .testimonial-left {
          grid-row: 1;
        }

        .testimonial-right {
          grid-row: 2;
        }

        .review-title {
          font-size: 15px;
        }

        .review-text {
          font-size: 13px;
        }

        /* モバイル版で特定の改行を調整（漫画ナレーションは除く） */
        .section-subtitle br {
          display: none;
        }
        
        /* モバイルでの文字途切れ防止 */
        .section-subtitle {
          padding: 0 24px !important;
          font-size: 12px !important;
          line-height: 1.4 !important;
          text-align: center !important;
          max-width: 100% !important;
          width: 100% !important;
          margin: 0 auto !important;
          box-sizing: border-box !important;
          word-wrap: break-word !important;
          hyphens: auto !important;
          overflow-wrap: break-word !important;
        }

        .footer-title .desktop-only {
          display: none;
        }

        .footer-message br {
          display: none;
        }

        /* 漫画ナレーションの改行は常に保持 */
        .narration br {
          display: inline !important;
        }

        /* 漫画ナレーションのモバイル最適化 */
        .narration {
          text-align: center;
          line-height: 1.8;
          font-size: 16px;
          padding: 0 16px;
          margin-bottom: 8px;
        }

        .section-subtitle {
          line-height: 1.6;
        }

        .footer-title {
          line-height: 1.4;
        }

        .footer-message {
          line-height: 1.6;
        }

        /* PRラベルのモバイル調整 */
        .pr-label {
          top: 90px;
          right: 10px;
          font-size: 11px;
          padding: 6px 12px;
        }
      }

      /* お客様の声のテキスト配置調整 */
      .testimonial-left .review-text,
      .testimonial-right .review-text {
        text-align: center;
      }

      /* タイトルも本文と同じ配置に統一 */
      .testimonial-left .review-title,
      .testimonial-right .review-title {
        text-align: center;
      }

      /* プロフィール（年代女性）の中央配置 */
      .testimonial-left .profile,
      .testimonial-right .profile {
        text-align: center;
      }

      /* モバイル専用レイアウト修正 */
      @media (max-width: 768px) {
        /* 基本レイアウト */
        body {
          margin: 0;
          padding: 0;
          width: 100%;
          overflow-x: hidden;
        }
        
        .container {
          width: 100%;
          max-width: 100%;
          margin: 0 auto;
          padding: 0 16px;
          box-sizing: border-box;
        }
        
        /* 中央配置の強制 */
        .section-title,
        .section-subtitle {
          text-align: center;
          margin: 0 auto;
          width: 100%;
        }
        
        /* testimonialsセクション修正 */
        .testimonials-section {
          width: 100%;
          padding: 50px 0;
        }
        
        .testimonials-section .container {
          width: 100%;
          max-width: 100%;
          margin: 0 auto;
          padding: 0 16px;
          box-sizing: border-box;
        }
        
        .testimonials-grid {
          display: flex;
          flex-direction: column;
          gap: 20px;
          width: 100%;
          margin: 0 auto;
          padding: 0;
        }
        
        .testimonial-card {
          width: 100%;
          max-width: 100%;
          margin: 0 auto;
          padding: 24px 16px;
          box-sizing: border-box;
          text-align: center;
        }
        
        /* CTAとフッター */
        .cta-section,
        .footer {
          width: 100%;
          text-align: center;
          padding-left: 0;
          padding-right: 0;
        }
        
        .cta-section .container,
        .footer .container {
          width: 100%;
          max-width: 100%;
          margin: 0 auto;
          padding: 0 16px;
          box-sizing: border-box;
        }
        
        /* 全てのセクションで左右余白を統一 */
        .cta-section,
        .footer,
        .products-section,
        .science-section {
          width: 100%;
          margin: 0;
          padding-left: 0;
          padding-right: 0;
        }
        
        .cta-section .container,
        .footer .container,
        .products-section .container,
        .science-section .container {
          width: 100%;
          max-width: 100%;
          margin: 0 auto;
          padding-left: 16px;
          padding-right: 16px;
          box-sizing: border-box;
        }
      }

      /* モバイル専用改行 */
      .br-mobile {
        display: none;
      }

      @media (max-width: 768px) {
        .br-mobile {
          display: inline;
        }
      }

      /* 注釈マーク（※）のサイズ調整 */
      .narration,
      .product-concept,
      .product-features li,
      .review-text,
      .lead,
      .feature-items p {
        font-size: inherit;
      }

      /* 注釈マークを小さく */
      .narration::before,
      .product-concept::before,
      .product-features li::before,
      .review-text::before,
      .lead::before {
        font-size: 0.8em;
      }

      /* テキスト内の※マークを小さく */
      .small-note {
        font-size: 0.55em;
        opacity: 0.6;
      }

      /* ===== 漫画ナレーション文字アニメーション ===== */

      /* 文字を囲むspan要素のスタイル */
      .narration .char {
        display: inline-block;
        opacity: 0;
        transform: translateY(20px) scale(0.8);
        animation: charAppear 0.6s ease-out forwards,
                   charFloat 3s ease-in-out infinite,
                   charGlow 2s ease-in-out infinite;
        position: relative;
        will-change: transform, opacity;
      }

      /* 文字の登場アニメーション */
      @keyframes charAppear {
        0% {
          opacity: 0;
          transform: translateY(20px) scale(0.8) rotate(-5deg);
        }
        60% {
          opacity: 1;
          transform: translateY(-5px) scale(1.05) rotate(2deg);
        }
        100% {
          opacity: 1;
          transform: translateY(0) scale(1) rotate(0deg);
        }
      }

      /* 文字の浮遊アニメーション（波のような動き） */
      @keyframes charFloat {
        0%, 100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-4px);
        }
      }

      /* 文字のグロー効果 */
      @keyframes charGlow {
        0%, 100% {
          text-shadow: 0 2px 8px rgba(139, 69, 19, 0.15);
        }
        50% {
          text-shadow: 0 2px 15px rgba(218, 165, 32, 0.4),
                       0 0 20px rgba(218, 165, 32, 0.2);
        }
      }

      /* グラデーション色が流れるアニメーション */
      @keyframes charColorFlow {
        0%, 100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      /* 文字にグラデーションを適用 */
      .narration .char {
        background: linear-gradient(
          90deg,
          var(--luxury-brown) 0%,
          var(--gold-accent) 25%,
          var(--warm-brown) 50%,
          var(--gold-accent) 75%,
          var(--luxury-brown) 100%
        );
        background-size: 200% auto;
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: charAppear 0.6s ease-out forwards,
                   charFloat 3s ease-in-out infinite,
                   charColorFlow 4s linear infinite;
      }

      /* ホバー時に文字が跳ねる */
      .narration:hover .char {
        animation: charAppear 0.6s ease-out forwards,
                   charBounce 0.5s ease-in-out,
                   charFloat 1.5s ease-in-out infinite,
                   charColorFlow 2s linear infinite;
      }

      @keyframes charBounce {
        0%, 100% {
          transform: translateY(0) scale(1);
        }
        50% {
          transform: translateY(-8px) scale(1.1);
        }
      }

      /* 文字ごとに異なる遅延を設定（1～20文字目） */
      .narration .char:nth-child(1) { animation-delay: 0.05s, 0s, 0s; }
      .narration .char:nth-child(2) { animation-delay: 0.1s, 0.1s, 0.2s; }
      .narration .char:nth-child(3) { animation-delay: 0.15s, 0.2s, 0.4s; }
      .narration .char:nth-child(4) { animation-delay: 0.2s, 0.3s, 0.6s; }
      .narration .char:nth-child(5) { animation-delay: 0.25s, 0.4s, 0.8s; }
      .narration .char:nth-child(6) { animation-delay: 0.3s, 0.5s, 1s; }
      .narration .char:nth-child(7) { animation-delay: 0.35s, 0.6s, 1.2s; }
      .narration .char:nth-child(8) { animation-delay: 0.4s, 0.7s, 1.4s; }
      .narration .char:nth-child(9) { animation-delay: 0.45s, 0.8s, 1.6s; }
      .narration .char:nth-child(10) { animation-delay: 0.5s, 0.9s, 1.8s; }
      .narration .char:nth-child(11) { animation-delay: 0.55s, 1s, 2s; }
      .narration .char:nth-child(12) { animation-delay: 0.6s, 1.1s, 2.2s; }
      .narration .char:nth-child(13) { animation-delay: 0.65s, 1.2s, 2.4s; }
      .narration .char:nth-child(14) { animation-delay: 0.7s, 1.3s, 2.6s; }
      .narration .char:nth-child(15) { animation-delay: 0.75s, 1.4s, 2.8s; }
      .narration .char:nth-child(16) { animation-delay: 0.8s, 1.5s, 3s; }
      .narration .char:nth-child(17) { animation-delay: 0.85s, 1.6s, 3.2s; }
      .narration .char:nth-child(18) { animation-delay: 0.9s, 1.7s, 3.4s; }
      .narration .char:nth-child(19) { animation-delay: 0.95s, 1.8s, 3.6s; }
      .narration .char:nth-child(20) { animation-delay: 1s, 1.9s, 3.8s; }

      /* 20文字以降は一定の遅延 */
      .narration .char:nth-child(n+21) { animation-delay: 1.05s, 2s, 4s; }

      /* 空白とbrタグは非表示にせず、そのまま */
      .narration .char.space {
        opacity: 1;
        animation: none;
        -webkit-text-fill-color: transparent;
        width: 0.3em;
      }

      /* モバイルでのアニメーション調整 */
      @media (max-width: 768px) {
        .narration .char {
          animation-duration: 0.5s, 2.5s, 1.5s;
        }

        @keyframes charFloat {
          0%, 100% {
            transform: translateY(0px);
          }
          50% {
            transform: translateY(-2px);
          }
        }
      }

      /* アクセシビリティ: 動きを減らす設定の場合 */
      @media (prefers-reduced-motion: reduce) {
        .narration .char {
          animation: charAppear 0.3s ease-out forwards;
        }

        @keyframes charAppear {
          0% {
            opacity: 0;
          }
          100% {
            opacity: 1;
            transform: none;
          }
        }
      }
    </style>
  </head>
  <body>
    <div id="app">
      <!-- 透明感アニメーション要素 -->
      <div class="bubble-container">
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
      </div>

      <!-- ヘッダー -->
      <header class="header">
        <div class="pr-label">PR：新日本製薬（株）</div>
        <div class="container">
          <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="logo">
            <h1 class="logo"><span style="white-space: nowrap;">パーフェクトワン</span> <span style="white-space: nowrap;">グロウ&カバー</span><br><span style="white-space: nowrap;">クッションファンデーション</span></h1>
            <p class="tagline">大人の美容液クッションファンデ</p>
          </a>
        </div>
      </header>

      <!-- 漫画ビューワー -->
      <section class="comic-viewer">
        <div class="comic-container">
          <figure class="comic-scene">
            <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="manga-image"><img src="manga/01.png" alt="厚塗りの悩み" loading="lazy" /></a>
            <figcaption>
              <p class="narration">シミも毛穴も隠そうとすると、<br>つい厚塗りに…。<br>これじゃ老けて見えるかも…</p>
            </figcaption>
          </figure>

          <figure class="comic-scene">
            <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="manga-image"><img src="manga/02.png" alt="同僚の秘密" loading="lazy" /></a>
            <figcaption>
              <p class="narration">「肌、すごく綺麗だね！」<br>「これ？美容液から生まれた<br>ファンデだよ！」</p>
            </figcaption>
          </figure>

          <figure class="comic-scene">
            <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="manga-image"><img src="manga/03.png" alt="パーフェクトワン使用" loading="lazy" /></a>
            <figcaption>
              <p class="narration">え、これだけ？<br>ポンポンするだけで、ムラなく肌に<br>ピタッと密着する！</p>
            </figcaption>
          </figure>

          <figure class="comic-scene">
            <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="manga-image"><img src="manga/04.png" alt="効果実感" loading="lazy" /></a>
            <figcaption>
              <p class="narration">すごい！厚塗りじゃないのに、気になる部分を自然にカバー<span class="small-note">(※)</span>してくれてる！<br>このツヤ感、理想的！<br><span class="small-note">※メイクアップ効果による</span></p>
            </figcaption>
          </figure>

          <figure class="comic-scene">
            <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="manga-image"><img src="manga/05.png" alt="明るい未来" loading="lazy" /></a>
            <figcaption>
              <p class="narration">毎日のメイク時間が<br class="br-mobile">私を前向きな気持ちに！</p>
            </figcaption>
          </figure>
        </div>
        
        <!-- スクロールインジケーター（PC用） -->
        <div class="scroll-indicator desktop-only">
          <span>横にスクロール →</span>
        </div>
      </section>

      <!-- CTA（初回） -->
      <section class="cta-section primary">
        <div class="container">
          <div class="cta-content">
            <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="product-image"><img src="products/link%2bu_KV_1206_small.jpg" alt="パーフェクトワン グロウ＆カバー クッションファンデーション" class="product-image" loading="lazy"></a>
            <h2><span style="white-space: nowrap;">パーフェクトワン</span> <span style="white-space: nowrap;">グロウ＆カバー<br class="br-mobile">クッションファンデーション</span><br><span style="white-space: nowrap;">お試しになりませんか？</span></h2>
            <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="price-click" style="text-decoration: none; color: inherit;">
              <p class="price">
                <span class="trial-label">定期初回</span>
                <span class="special">¥2,640</span>
                <span class="tax">（税込）</span>
              </p>
            </a>
            <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" class="cta-button" data-ga-event="cta_click" data-ga-label="top">
              パーフェクトワン グロウ＆カバー<br>クッションファンデーションを試す
            </a>
            <ul class="benefits">
              <li>送料無料</li>
              <li>約1~1.5ヶ月使用可能</li>
              <li>9役オールインワン</li>
              <li>SPF50+ PA++++</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- 商品説明 -->
      <section class="products-section">
        <div class="container">
          <div class="routine-header">
            <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="section-title" style="text-decoration: none; color: inherit;">
              <h2 class="section-title"><span style="white-space: nowrap;">パーフェクトワン</span> <span style="white-space: nowrap;">グロウ＆カバー<br class="br-mobile">クッションファンデーション</span><br><span style="white-space: nowrap;">4つの魅力</span></h2>
            </a>
          </div>

          <div class="products-detail">
            <article class="product-step">
              <div class="step-number">魅力 01</div>
              <div class="product-content">
                <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="feature-image"><img src="products/feature01.png" alt="パーフェクトワン カバー力" loading="lazy"></a>
                <div class="product-info">
                  <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="product-name" style="text-decoration: none; color: inherit;">
                    <h3>カバー力</h3>
                  </a>
                  <p class="product-concept">厚塗り感なく、自然にカバー<span class="small-note">(※)</span></p>
                  <ul class="product-features">
                    <li>シミ・毛穴・色ムラをひと塗りでカバー<span class="small-note">(※)</span></li>
                    <li>厚塗り感のない自然な仕上がり</li>
                    <li>気になる部分を優しくぼかす</li>
                    <li><span class="small-note">※メイクアップ効果による</span></li>
                  </ul>
                </div>
              </div>
            </article>

            <article class="product-step">
              <div class="step-number">魅力 02</div>
              <div class="product-content">
                <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="feature-image"><img src="products/feature02.png" alt="パーフェクトワン キープ力" loading="lazy"></a>
                <div class="product-info">
                  <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="product-name" style="text-decoration: none; color: inherit;">
                    <h3>キープ力</h3>
                  </a>
                  <p class="product-concept">夕方まで崩れにくい<span class="small-note">(※)</span></p>
                  <ul class="product-features">
                    <li>高密着処方で肌にピタッと密着</li>
                    <li>汗をはじき、崩れにくい</li>
                    <li>夕方まで美しい仕上がりが続く<span class="small-note">(※)</span></li>
                    <li><span class="small-note">※メイクアップ効果による</span></li>
                  </ul>
                </div>
              </div>
            </article>

            <article class="product-step">
              <div class="step-number">魅力 03</div>
              <div class="product-content">
                <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="feature-image"><img src="products/feature03.png" alt="パーフェクトワン 理想のツヤ肌" loading="lazy"></a>
                <div class="product-info">
                  <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="product-name" style="text-decoration: none; color: inherit;">
                    <h3>理想のツヤ肌</h3>
                  </a>
                  <p class="product-concept">輝くような上品なツヤを演出</p>
                  <ul class="product-features">
                    <li>ダイヤモンドパウダー配合</li>
                    <li>パールパウダー配合</li>
                    <li>テカリとは違う、上品な輝き</li>
                    <li>内側から発光するようなツヤ肌に</li>
                  </ul>
                </div>
              </div>
            </article>

            <article class="product-step">
              <div class="step-number">魅力 04</div>
              <div class="product-content">
                <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="feature-image"><img src="products/feature04.png" alt="パーフェクトワン スキンケア効果" loading="lazy"></a>
                <div class="product-info">
                  <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="product-name" style="text-decoration: none; color: inherit;">
                    <h3>スキンケア効果</h3>
                  </a>
                  <p class="product-concept">メイク中も美容液級のうるおい</p>
                  <ul class="product-features">
                    <li>65種の保湿成分配合</li>
                    <li>膨密コラーゲン＆ヒアルロン酸</li>
                    <li>メイクしながらスキンケア</li>
                    <li>乾燥から肌を守る</li>
                  </ul>
                </div>
              </div>
            </article>
          </div>
        </div>
      </section>

      <!-- Technology × Beauty Ingredients -->
      <section class="science-section">
        <div class="container">
          <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="section-title" style="text-decoration: none; color: inherit;">
            <h2 class="section-title"><span style="white-space: nowrap;">パーフェクトワン</span> <span style="white-space: nowrap;">グロウ＆カバー<br class="br-mobile">クッションファンデーション</span><br><span style="white-space: nowrap;">こだわり</span></h2>
          </a>
          <p class="section-subtitle">技術と美容成分の融合</p>

          <div class="science-natural-grid">
            <div class="science-column">
              <div class="column-header">
                <span class="column-icon">🔬</span>
                <h3>Technology</h3>
              </div>
              <ul class="feature-items">
                <li>
                  <h4>3種のコントロールカラー</h4>
                  <p>肌色を自然に補正し、<br>くすみをカバー<span class="small-note">(※)</span><br><span class="small-note">※メイクアップ効果による</span></p>
                </li>
                <li>
                  <h4>高密着スキンカバー処方</h4>
                  <p>肌に密着し、<br>崩れにくい仕上がり<span class="small-note">(※)</span><br><span class="small-note">※メイクアップ効果による</span></p>
                </li>
                <li>
                  <h4>キメの細かい<br>ハイグレードパフ</h4>
                  <p>ムラなく塗布できる<br>専用パフ付き</p>
                </li>
              </ul>
            </div>

            <div class="natural-column">
              <div class="column-header">
                <span class="column-icon">✨</span>
                <h3>Beauty Ingredients</h3>
              </div>
              <ul class="feature-items">
                <li>
                  <h4>65種の保湿成分</h4>
                  <p>美容液級の保湿成分で<br>メイク中もうるおいケア</p>
                </li>
                <li>
                  <h4>膨密コラーゲン＆<br>ヒアルロン酸</h4>
                  <p>乾燥から肌を守り、<br>ふっくら肌へ</p>
                </li>
                <li>
                  <h4>ダイヤモンド＆<br>パールパウダー</h4>
                  <p>上品な輝きで、<br>理想のツヤ肌を演出</p>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- お客様の声 -->
      <section class="testimonials-section">
        <div class="container">
          <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="section-title" style="text-decoration: none; color: inherit;">
            <h2 class="section-title">「理想の肌になれた」<br>実感の声</h2>
          </a>

          <div class="testimonials-grid">
            <article class="testimonial-card testimonial-left">
              <div class="review-content">
                <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="review-title" style="text-decoration: none; color: inherit;">
                  <h3 class="review-title">使いやすさでとても気に入りました</h3>
                </a>
                <p class="review-text">きっかけは、こめかみにできたシミだったけど、<br>使ってみたら使いやすさでとても気に入りました。</p>
              </div>
            </article>

            <article class="testimonial-card testimonial-right">
              <div class="review-content">
                <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="review-title" style="text-decoration: none; color: inherit;">
                  <h3 class="review-title">敏感肌ですが大丈夫でした</h3>
                </a>
                <p class="review-text">自然で塗った感じがない。<br>敏感肌ですが大丈夫でした。</p>
              </div>
            </article>

          </div>

          <p class="disclaimer"><span class="small-note">※個人の感想です。効果・効能を保証するものではありません。</span></p>
        </div>
      </section>

      <!-- 最終CTA -->
      <section class="cta-section final">
        <div class="ripple-effect" style="top: 20%; left: 10%; animation-delay: 1s;"></div>
        <div class="ripple-effect" style="top: 60%; left: 80%; animation-delay: 3s;"></div>
        <div class="container">
          <h2><span style="white-space: nowrap;">パーフェクトワン</span> <span style="white-space: nowrap;">グロウ＆カバー<br class="br-mobile">クッションファンデーション</span><br><span style="white-space: nowrap;">で始める大人のツヤ肌メイク</span></h2>
          <p class="lead">厚塗り感なく自然にカバー<span class="small-note">(※)</span>、<br>メイク中も美容液級のうるおい<br><span class="small-note">※メイクアップ効果による</span></p>

          <div class="cta-box">
            <div class="price-section">
              <p class="regular-price" style="font-size: 16px; color: #888; text-decoration: line-through; margin-bottom: 8px;">通常価格 ¥5,280</p>
              <p class="discount-badge" style="background: linear-gradient(45deg, #FF6B6B, #FF8E8E); color: white; padding: 4px 12px; border-radius: 20px; font-size: 14px; font-weight: bold; display: inline-block; margin-bottom: 16px;">定期初回50%OFF</p>
              <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" data-ga-event="cta_click" data-ga-label="final-price-click" style="text-decoration: none; color: inherit;">
                <p class="price">
                  <span class="special">¥2,640</span>
                  <span class="tax">（税込）</span>
                </p>
              </a>
            </div>

            <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" class="cta-button large" data-ga-event="cta_click" data-ga-label="bottom">
              パーフェクトワン<br>グロウ＆カバー<br>クッションファンデーション<br>を試す
            </a>

            <div class="guarantees">
              <div class="guarantee-item">
                <span class="icon">✓</span>
                <span>定期回数の縛りなし</span>
              </div>
              <div class="guarantee-item">
                <span class="icon">✓</span>
                <span>送料無料</span>
              </div>
              <div class="guarantee-item">
                <span class="icon">✓</span>
                <span>お届け日変更OK</span>
              </div>
              <div class="guarantee-item">
                <span class="icon">✓</span>
                <span>持ち運び用ポーチプレゼント</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- インパクトフッター -->
      <footer class="footer">
        <div class="container">
          <div class="footer-impact">
            <h3 class="footer-title"><span style="white-space: nowrap;">あなたの自信を、</span><br><span style="white-space: nowrap;">パーフェクトワン</span><br><span style="white-space: nowrap;">グロウ＆カバー</span><br><span style="white-space: nowrap;">クッションファンデーションで理想のうるツヤ肌へ</span></h3>
            <p class="footer-message">毎日のメイクで、<br>もっと自分らしく輝く未来へ</p>
            <div class="footer-cta">
              <a href="https://www.shinnihonseiyaku.co.jp/lp/promotion/cosme/2375b_19/" class="cta-button footer-button" data-ga-event="cta_click" data-ga-label="footer">
                今すぐパーフェクトワン<br>グロウ＆カバークッション<br>ファンデーションを始める
              </a>
            </div>
          </div>
          <div class="footer-info">
            <p class="footer-brand">パーフェクトワン グロウ＆カバー<br class="br-mobile">クッションファンデーション</p>
            <p class="footer-copyright">&copy; 2025 パーフェクトワン<br>グロウ＆カバー<br>クッションファンデーション. All rights reserved.</p>
            <div class="company-info" style="margin: 20px 0; padding: 16px; background: rgba(139,69,19,0.05); border-radius: 8px; border: 1px solid rgba(139,69,19,0.1);">
              <p style="color: rgba(101,67,33,0.8); font-size: 14px; margin: 0; text-align: center;">販売会社：新日本製薬（株）</p>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <!-- Scroll to Top Button -->
    <button id="scroll-to-top" aria-label="ページトップへ戻る">↑</button>

    <!-- ===== Enhanced Animation Scripts ===== -->
    <script>
      // ===== 1. Scroll Trigger Animation using Intersection Observer =====
      (function() {
        const observerOptions = {
          root: null,
          rootMargin: '0px',
          threshold: 0.1
        };

        const observerCallback = (entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('is-visible');
              // Optionally unobserve after animation
              // observer.unobserve(entry.target);
            }
          });
        };

        const observer = new IntersectionObserver(observerCallback, observerOptions);

        // Add scroll animations to sections
        document.addEventListener('DOMContentLoaded', () => {
          // Animate sections
          const sections = document.querySelectorAll('.cta-section, .products-section, .science-section, .testimonials-section');
          sections.forEach((section, index) => {
            section.classList.add('section-reveal');
            observer.observe(section);
          });

          // Animate product steps with alternating directions
          const productSteps = document.querySelectorAll('.product-step');
          productSteps.forEach((step, index) => {
            const direction = index % 2 === 0 ? 'scroll-slide-left' : 'scroll-slide-right';
            step.classList.add(direction, `scroll-stagger-${Math.min(index + 1, 5)}`);
            observer.observe(step);
          });

          // Animate testimonial cards with stagger
          const testimonialCards = document.querySelectorAll('.testimonial-card');
          testimonialCards.forEach((card, index) => {
            card.classList.add('scroll-zoom-in', `scroll-stagger-${Math.min(index + 1, 5)}`);
            observer.observe(card);
          });

          // Animate science/natural columns
          const scienceColumns = document.querySelectorAll('.science-column, .natural-column');
          scienceColumns.forEach((column, index) => {
            const direction = index === 0 ? 'scroll-slide-left' : 'scroll-slide-right';
            column.classList.add(direction);
            observer.observe(column);
          });

          // Animate section titles
          const sectionTitles = document.querySelectorAll('.section-title');
          sectionTitles.forEach(title => {
            title.classList.add('scroll-fade-up');
            observer.observe(title);
          });
        });
      })();

      // ===== 2. Price Count-Up Animation =====
      (function() {
        function animateCounter(element, target, duration = 2000, prefix = '¥', suffix = '') {
          let start = 0;
          const increment = target / (duration / 16); // 60fps
          const startTime = performance.now();

          function updateCounter(currentTime) {
            const elapsed = currentTime - startTime;
            const progress = Math.min(elapsed / duration, 1);

            // Easing function (ease-out)
            const easeOut = 1 - Math.pow(1 - progress, 3);
            const current = Math.floor(start + (target - start) * easeOut);

            element.textContent = prefix + current.toLocaleString() + suffix;

            if (progress < 1) {
              requestAnimationFrame(updateCounter);
            } else {
              element.textContent = prefix + target.toLocaleString() + suffix;
            }
          }

          requestAnimationFrame(updateCounter);
        }

        const priceObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting && !entry.target.dataset.counted) {
              entry.target.dataset.counted = 'true';

              // Extract number from text
              const text = entry.target.textContent;
              const match = text.match(/[\d,]+/);

              if (match) {
                const targetNumber = parseInt(match[0].replace(/,/g, ''));
                const hasYen = text.includes('¥');
                const prefix = hasYen ? '¥' : '';

                animateCounter(entry.target, targetNumber, 1500, prefix, '');
              }
            }
          });
        }, { threshold: 0.5 });

        document.addEventListener('DOMContentLoaded', () => {
          // Observe price elements
          const priceElements = document.querySelectorAll('.special');
          priceElements.forEach(el => priceObserver.observe(el));
        });
      })();

      // ===== 3. 3D Tilt Effect for Product Images =====
      (function() {
        function applyTiltEffect(element) {
          const tiltIntensity = 15; // degrees

          element.addEventListener('mousemove', (e) => {
            const rect = element.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            const centerX = rect.width / 2;
            const centerY = rect.height / 2;

            const rotateX = ((y - centerY) / centerY) * -tiltIntensity;
            const rotateY = ((x - centerX) / centerX) * tiltIntensity;

            element.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.05, 1.05, 1.05)`;
          });

          element.addEventListener('mouseleave', () => {
            element.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)';
          });
        }

        document.addEventListener('DOMContentLoaded', () => {
          // Apply tilt effect to product images
          const productImages = document.querySelectorAll('.product-image, .product-content img');
          productImages.forEach(img => {
            img.classList.add('tilt-3d');
            applyTiltEffect(img);
          });
        });
      })();

      // ===== 4. Parallax Effect for Comic Scenes =====
      (function() {
        let ticking = false;

        function updateParallax() {
          const scrolled = window.pageYOffset;
          const comicScenes = document.querySelectorAll('.comic-scene');

          comicScenes.forEach((scene, index) => {
            const rect = scene.getBoundingClientRect();
            const elementTop = rect.top + scrolled;
            const elementHeight = rect.height;
            const viewportHeight = window.innerHeight;

            // Calculate parallax only when element is in viewport
            if (rect.top < viewportHeight && rect.bottom > 0) {
              // Different speed for each scene (alternating)
              const speed = index % 2 === 0 ? 0.3 : -0.3;
              const yPos = (scrolled - elementTop + viewportHeight) * speed;

              scene.style.transform = `translateY(${yPos}px)`;
            }
          });

          ticking = false;
        }

        function requestTick() {
          if (!ticking) {
            requestAnimationFrame(updateParallax);
            ticking = true;
          }
        }

        window.addEventListener('scroll', requestTick);
        window.addEventListener('resize', requestTick);

        // Initial call
        document.addEventListener('DOMContentLoaded', updateParallax);
      })();

      // ===== 5. Card Flip Effect for Science/Natural Cards =====
      (function() {
        const cardBackContent = {
          science: {
            icon: '🔬',
            title: '科学技術の力',
            description: '最先端のナノテクノロジーと皮膚科学の研究成果を活用し、肌の深層まで美容成分を届けます。50年以上の研究開発の成果がこの製品に凝縮されています。'
          },
          natural: {
            icon: '🌿',
            title: '自然の恵み',
            description: '厳選された植物由来成分を93%以上配合。パラベン、鉱物油、合成着色料、合成香料を使わず、肌に優しく環境にも配慮した処方です。'
          }
        };

        function createFlipCard(element, type) {
          const content = element.innerHTML;
          const backData = cardBackContent[type];

          element.classList.add('flip-card');
          element.innerHTML = `
            <div class="flip-card-inner">
              <div class="flip-card-front">
                ${content}
                <div class="flip-indicator">クリックで詳細 ➜</div>
              </div>
              <div class="flip-card-back">
                <span class="back-icon">${backData.icon}</span>
                <h4>${backData.title}</h4>
                <p>${backData.description}</p>
                <div class="flip-indicator">クリックで戻る ↩</div>
              </div>
            </div>
          `;

          element.addEventListener('click', () => {
            element.classList.toggle('flipped');
          });
        }

        document.addEventListener('DOMContentLoaded', () => {
          const scienceColumn = document.querySelector('.science-column');
          const naturalColumn = document.querySelector('.natural-column');

          if (scienceColumn) createFlipCard(scienceColumn, 'science');
          if (naturalColumn) createFlipCard(naturalColumn, 'natural');
        });
      })();

      // ===== 6. Before/After Interactive Slider =====
      (function() {
        function createBeforeAfterSlider(beforeAfterElement) {
          const before = beforeAfterElement.querySelector('.before p');
          const after = beforeAfterElement.querySelector('.after p');

          if (!before || !after) return;

          const beforeText = before.textContent;
          const afterText = after.textContent;

          const sliderHTML = `
            <div class="before-after-slider">
              <div class="before-after-content before-content" style="clip-path: inset(0 50% 0 0);">
                <div style="font-size: 12px; font-weight: 600; color: var(--luxury-brown); margin-bottom: 4px;">Before</div>
                <div style="font-size: 13px; color: rgba(101, 67, 33, 0.9);">${beforeText}</div>
              </div>
              <div class="before-after-content after-content" style="clip-path: inset(0 0 0 50%);">
                <div style="font-size: 12px; font-weight: 600; color: var(--luxury-brown); margin-bottom: 4px;">After</div>
                <div style="font-size: 13px; color: rgba(101, 67, 33, 0.9);">${afterText}</div>
              </div>
              <div class="slider-divider"></div>
              <div class="slider-handle"></div>
            </div>
          `;

          beforeAfterElement.innerHTML = sliderHTML;

          const slider = beforeAfterElement.querySelector('.before-after-slider');
          const handle = slider.querySelector('.slider-handle');
          const divider = slider.querySelector('.slider-divider');
          const beforeContent = slider.querySelector('.before-content');
          const afterContent = slider.querySelector('.after-content');

          let isDragging = false;

          function updateSlider(percentage) {
            percentage = Math.max(0, Math.min(100, percentage));

            handle.style.left = percentage + '%';
            divider.style.left = percentage + '%';
            beforeContent.style.clipPath = `inset(0 ${100 - percentage}% 0 0)`;
            afterContent.style.clipPath = `inset(0 0 0 ${percentage}%)`;
          }

          function handleMove(clientX) {
            const rect = slider.getBoundingClientRect();
            const percentage = ((clientX - rect.left) / rect.width) * 100;
            updateSlider(percentage);
          }

          // Mouse events
          slider.addEventListener('mousedown', (e) => {
            isDragging = true;
            handleMove(e.clientX);
          });

          document.addEventListener('mousemove', (e) => {
            if (isDragging) {
              handleMove(e.clientX);
            }
          });

          document.addEventListener('mouseup', () => {
            isDragging = false;
          });

          // Touch events
          slider.addEventListener('touchstart', (e) => {
            isDragging = true;
            handleMove(e.touches[0].clientX);
          });

          document.addEventListener('touchmove', (e) => {
            if (isDragging) {
              handleMove(e.touches[0].clientX);
            }
          });

          document.addEventListener('touchend', () => {
            isDragging = false;
          });

          // Click to move
          slider.addEventListener('click', (e) => {
            handleMove(e.clientX);
          });
        }

        document.addEventListener('DOMContentLoaded', () => {
          const beforeAfterElements = document.querySelectorAll('.before-after');
          beforeAfterElements.forEach(element => {
            createBeforeAfterSlider(element);
          });
        });
      })();

      // ===== 7. Smooth Scroll & Scroll to Top =====
      (function() {
        const scrollToTopBtn = document.getElementById('scroll-to-top');

        // Show/hide scroll to top button
        function toggleScrollToTopButton() {
          if (window.pageYOffset > 300) {
            scrollToTopBtn.classList.add('visible');
          } else {
            scrollToTopBtn.classList.remove('visible');
          }
        }

        // Scroll to top smoothly
        scrollToTopBtn.addEventListener('click', () => {
          window.scrollTo({
            top: 0,
            behavior: 'smooth'
          });
        });

        // Throttle scroll events for performance
        let scrollTimeout;
        window.addEventListener('scroll', () => {
          if (scrollTimeout) {
            window.cancelAnimationFrame(scrollTimeout);
          }
          scrollTimeout = window.requestAnimationFrame(toggleScrollToTopButton);
        });

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function(e) {
            const href = this.getAttribute('href');

            // Skip if href is just "#"
            if (href === '#') return;

            const target = document.querySelector(href);
            if (target) {
              e.preventDefault();

              const headerOffset = 80; // Offset for fixed header if any
              const elementPosition = target.getBoundingClientRect().top;
              const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

              window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
              });
            }
          });
        });

        // Initial check
        toggleScrollToTopButton();
      })();

      // ===== 8. Enhanced Performance & Browser Compatibility =====
      (function() {
        // Detect reduced motion preference
        const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)');

        if (prefersReducedMotion.matches) {
          // Disable animations for users who prefer reduced motion
          document.documentElement.style.setProperty('--animation-duration', '0s');
          document.documentElement.style.scrollBehavior = 'auto';
        }

        // Add loading state
        window.addEventListener('load', () => {
          document.body.classList.add('loaded');
        });

        // Lazy load images optimization
        if ('loading' in HTMLImageElement.prototype) {
          const images = document.querySelectorAll('img[loading="lazy"]');
          images.forEach(img => {
            img.src = img.src;
          });
        } else {
          // Fallback for browsers that don't support lazy loading
          const script = document.createElement('script');
          script.src = 'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js';
          document.body.appendChild(script);
        }

        // Console message for developers
        console.log('%c✨ Enhanced Animations Loaded', 'color: #8B4513; font-size: 16px; font-weight: bold;');
        console.log('%cパーフェクトワン LP - Animation System v1.0', 'color: #654321; font-size: 12px;');
      })();

      // ===== 9. Character Animation for Narration Text =====
      (function() {
        function wrapCharacters(element) {
          // 元のHTMLを取得
          const originalHTML = element.innerHTML;

          // テキストノードを処理する関数
          function processNode(node) {
            if (node.nodeType === Node.TEXT_NODE) {
              const text = node.textContent;
              if (text.trim() === '') return node; // 空白のみの場合はそのまま

              const fragment = document.createDocumentFragment();

              // 一文字ずつ処理
              for (let i = 0; i < text.length; i++) {
                const char = text[i];
                const span = document.createElement('span');
                span.className = 'char';

                // 空白文字の場合は特別なクラスを追加
                if (char === ' ' || char === '\u3000') { // 半角・全角スペース
                  span.classList.add('space');
                  span.innerHTML = '&nbsp;';
                } else if (char === '\n') {
                  // 改行は無視
                  continue;
                } else {
                  span.textContent = char;
                }

                fragment.appendChild(span);
              }

              return fragment;
            } else if (node.nodeType === Node.ELEMENT_NODE) {
              // 要素ノード（<br>や<span class="small-note">など）の場合
              const clone = node.cloneNode(false);

              // 子ノードを再帰的に処理
              Array.from(node.childNodes).forEach(child => {
                const processed = processNode(child);
                if (processed) {
                  clone.appendChild(processed);
                }
              });

              return clone;
            }

            return node.cloneNode(true);
          }

          // 元の要素の全子ノードを処理
          const newContent = document.createDocumentFragment();
          Array.from(element.childNodes).forEach(child => {
            const processed = processNode(child);
            if (processed) {
              newContent.appendChild(processed);
            }
          });

          // 要素の内容を置き換え
          element.innerHTML = '';
          element.appendChild(newContent);
        }

        // ページ読み込み時に全ての.narration要素を処理
        document.addEventListener('DOMContentLoaded', () => {
          const narrations = document.querySelectorAll('.narration');

          narrations.forEach((narration, index) => {
            // 少し遅延させて処理（ページ読み込み後にアニメーションが開始されるように）
            setTimeout(() => {
              wrapCharacters(narration);
            }, index * 100); // 各ナレーションを順番に処理
          });

          console.log(`%c✨ Character Animation Applied to ${narrations.length} narrations`, 'color: #DAA520; font-size: 14px; font-weight: bold;');
        });

        // Intersection Observerで画面に表示されたときにアニメーション再生
        const narrationObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting && !entry.target.dataset.animated) {
              entry.target.dataset.animated = 'true';

              // 文字アニメーションのリスタート
              const chars = entry.target.querySelectorAll('.char');
              chars.forEach((char, index) => {
                char.style.animation = 'none';
                setTimeout(() => {
                  char.style.animation = '';
                }, 10);
              });
            }
          });
        }, {
          threshold: 0.5,
          rootMargin: '0px'
        });

        // 画面に表示されたら監視開始
        document.addEventListener('DOMContentLoaded', () => {
          setTimeout(() => {
            const narrations = document.querySelectorAll('.narration');
            narrations.forEach(narration => {
              narrationObserver.observe(narration);
            });
          }, 500);
        });
      })();
    </script>

  </body>

<!-- Mirrored from manga-jivl.vercel.app/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Sep 2025 06:02:43 GMT -->
</html>
